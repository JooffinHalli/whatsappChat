# whatsappChat

### для локальношо запуска выполнить
 - npm i
 - npm start

#
Что интересного?
## Api
В корне проекта есть файл api.yaml, в котором описана документация бекендовского апи в openapi синтаксисе.
### Зачем, если уже есть документация на сайте?
На сайте представлена документация на естественном (человеческом) языке.
Мне было нужно описание апи в формате, которое можно было бы пропарсить (yaml, json) и на основании которого я бы мог генерировать код для своего апи или строить апи в рантайме.
###
Зачем, если GreenApi предоставляет готовые KITы, в том числе для фронта и ноды.
###
Я ознакомился с ними. Мне не хватило двух вещей
  1. Типизации - все методы возвращают any
  2. Проверок респонса в рантайме на корректность типов и интерфейсов (иногда это очень важно), там были проверки только на входные данные, но не выходные
###
Поэтому, даже если я бы использовал KIT, мне бы все равно пришлось описывать
  1. Тайпскриптовые интерфейсы для ответов
  2. аналогичные JSON схемы для рантайм валидации тех же самых ответов, или, что хуже, императивно добавлять тайпгард на каждый отдельный метод
###
Поэтому, вместо того, чтобы дважды описывать одно и тоже, я решил описать все это единожды, в общеизвестном, исчерпывающем формате openapi
###
Таким образом из него, с помощью кодогенерации я получаю типы, JSON схемы, MST (MobX-State-Tree) схемы
###
И на основании этого всего строю свой апи клиент с типизацией и валидацией
###
Также, имея единое описание в ямле, мы можем генерировать и обновлять апи для всех языков программирования, что особо актуально, потому как сейчас (по крайней мере на ноде) все эндпойнты описываются императивно, и если добавится или изменится эндпойнт, то нам придется руками менять его код (вероятно в каждом КИТе будет тоже самое).
Также такой подход сэкономит время и силы, если мы захотим внести системные/подкопотные изменения, например пересесть с axios на fetch (или аналог), сейчас, нам руками это нужно поменять в каждом методе/контроллере. При централизованном построении апи все это можно будет определить в одном месте

#
UI
###
Я успел не все, что хотел, поэтому, чтобы не тратить время использовал готовую биюлеотеку AntDesign

#
Что не успел, но хотел сделать
###
 - Покрыть тестами
 - Добавить моковый сервер, с моковыми данными
 - Лучше продумать работу с бизнесовыми ошибками и тем, как они будут показываться
 - Тоже самое, для статусов загрузки при обращении к эндпойнтам
 - Сделать нормальный чат


 #
 P.S.
 ###
 Тестовое задание было очень интересным, я с удовольствием его делал
 ###
 У GreenApi отличная документация, работа с ней быстра и понятна

 #
 Посмотреть проект можно на github-pages
 ###
https://jooffinhalli.github.io/whatsappChat/